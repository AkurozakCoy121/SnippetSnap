<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SnippetSnap Pro â€” Professional UI & Code Mockups</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: #09090b;
            color: #fafafa;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .preview-stage {
            background-image: radial-gradient(circle at 2px 2px, rgba(255,255,255,0.05) 1px, transparent 0);
            background-size: 24px 24px;
        }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            .config-sidebar { width: 100%; height: auto; order: 2; }
            .main-content { order: 1; min-height: 400px; }
            .desktop-nav { display: none; }
        }

        input[type="range"] {
            -webkit-appearance: none;
            background: rgba(255,255,255,0.1);
            height: 4px;
            border-radius: 2px;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            background: #6366f1;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(99, 102, 241, 0.4);
        }

        #main-preview { cursor: move; transition: filter 0.2s ease; }
        
        /* Frame Styles */
        .frame-mac { border-radius: 12px; }
        .frame-win { border-radius: 4px; }
        .frame-phone { border-radius: 40px; border: 8px solid #1a1a1a; max-width: 320px !important; margin: 0 auto; }
        .frame-none { border-radius: 0; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <nav class="border-b border-white/5 py-4 px-6 flex justify-between items-center glass-card sticky top-0 z-[100]">
        <div class="flex flex-col">
            <h1 class="text-xl font-extrabold tracking-tighter">SnippetSnap<span class="text-indigo-500">PRO</span></h1>
            <span class="text-[10px] text-slate-500 font-bold uppercase tracking-widest">XApp Studio</span>
        </div>
        
        <div class="flex items-center gap-3">
            <a href="https://saweria.co/omedonation" target="_blank" class="hidden sm:flex items-center gap-2 px-4 py-2 rounded-xl bg-orange-500/10 border border-orange-500/20 text-orange-500 text-[10px] font-black hover:bg-orange-500/20 transition-all">
                DONATE
            </a>
            <button onclick="downloadImage(this)" class="bg-indigo-600 hover:bg-indigo-500 text-white font-bold px-5 py-2 rounded-xl text-sm transition-all shadow-lg shadow-indigo-500/20">
                EXPORT
            </button>
        </div>
    </nav>

    <div class="flex flex-col md:flex-row flex-grow overflow-hidden">
        <aside class="config-sidebar w-full md:w-80 border-r border-white/5 p-5 space-y-8 overflow-y-auto bg-[#0c0c0e]">
            
            <section class="space-y-4">
                <header class="flex items-center justify-between">
                    <h3 class="text-[11px] font-black text-slate-500 uppercase tracking-widest">1. Frame & Content</h3>
                </header>
                
                <div class="grid grid-cols-2 gap-2">
                    <button onclick="setFrame('frame-mac')" class="py-2 text-[10px] font-bold rounded-lg border border-white/10 bg-white/5 hover:bg-white/10">macOS</button>
                    <button onclick="setFrame('frame-win')" class="py-2 text-[10px] font-bold rounded-lg border border-white/10 bg-white/5 hover:bg-white/10">Windows</button>
                    <button onclick="setFrame('frame-phone')" class="py-2 text-[10px] font-bold rounded-lg border border-white/10 bg-white/5 hover:bg-white/10">Mobile</button>
                    <button onclick="setFrame('frame-none')" class="py-2 text-[10px] font-bold rounded-lg border border-white/10 bg-white/5 hover:bg-white/10">None</button>
                </div>

                <label class="block w-full py-4 rounded-xl border-2 border-dashed border-white/10 hover:border-indigo-500/50 hover:bg-indigo-500/5 transition-all text-center cursor-pointer">
                    <input type="file" id="imageUpload" accept="image/*" class="hidden">
                    <span class="text-[10px] font-bold text-slate-400">REPLACE IMAGE</span>
                </label>

                <div class="space-y-3">
                    <div class="flex justify-between text-[10px] font-bold text-indigo-400 uppercase"><span>Zoom</span><span id="scaleVal">100%</span></div>
                    <input type="range" id="scaleInput" class="w-full" min="10" max="200" value="100">
                </div>
            </section>

            <section class="space-y-4">
                <h3 class="text-[11px] font-black text-slate-500 uppercase tracking-widest">2. Canvas Styles</h3>
                <div class="grid grid-cols-5 gap-2">
                    <button onclick="changeBg('linear-gradient(135deg, #4f46e5 0%, #9333ea 100%)')" class="h-6 rounded-md bg-indigo-500"></button>
                    <button onclick="changeBg('linear-gradient(135deg, #f59e0b 0%, #ef4444 100%)')" class="h-6 rounded-md bg-orange-500"></button>
                    <button onclick="changeBg('linear-gradient(135deg, #10b981 0%, #3b82f6 100%)')" class="h-6 rounded-md bg-emerald-500"></button>
                    <button onclick="changeBg('#000000')" class="h-6 rounded-md bg-black border border-white/10"></button>
                    <label class="h-6 rounded-md bg-white/10 border border-white/20 flex items-center justify-center text-[7px] cursor-pointer font-bold">
                        <input type="file" id="bgUpload" class="hidden" accept="image/*">IMG
                    </label>
                </div>
                <div class="space-y-3">
                    <div class="flex justify-between text-[10px] font-bold text-slate-400 uppercase"><span>Padding</span><span id="padVal">60px</span></div>
                    <input type="range" id="padInput" class="w-full" min="0" max="150" value="60">
                </div>
            </section>

            <section class="space-y-4 pb-10">
                <h3 class="text-[11px] font-black text-slate-500 uppercase tracking-widest">3. Effects & Filters</h3>
                <div class="grid gap-4">
                    <div class="space-y-2">
                        <div class="flex justify-between text-[10px] font-bold text-slate-400"><span>BRIGHTNESS</span><span id="brightV">100%</span></div>
                        <input type="range" class="filter-in w-full" data-f="brightness" min="0" max="200" value="100">
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-[10px] font-bold text-slate-400"><span>CONTRAST</span><span id="contraV">100%</span></div>
                        <input type="range" class="filter-in w-full" data-f="contrast" min="0" max="200" value="100">
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-[10px] font-bold text-slate-400"><span>BLUR</span><span id="blurV">0px</span></div>
                        <input type="range" class="filter-in w-full" data-f="blur" min="0" max="20" value="0">
                    </div>
                    <div class="space-y-2">
                        <div class="flex justify-between text-[10px] font-bold text-slate-400"><span>GRAYSCALE</span><span id="grayV">0%</span></div>
                        <input type="range" class="filter-in w-full" data-f="grayscale" min="0" max="100" value="0">
                    </div>
                </div>
            </section>
        </aside>

        <main class="main-content flex-grow preview-stage p-4 md:p-12 flex items-center justify-center overflow-auto">
            <div id="export-area" class="relative transition-all duration-300 shadow-2xl overflow-hidden flex items-center justify-center" 
                 style="background: linear-gradient(135deg, #4f46e5 0%, #9333ea 100%); padding: 60px; border-radius: 24px;">
                
                <div id="browser-window" class="frame-mac relative bg-[#0d0d0d] shadow-2xl w-full max-w-3xl overflow-hidden flex flex-col border border-white/10">
                    <div id="title-bar" class="h-10 bg-white/5 flex items-center px-4 gap-2 border-b border-white/5">
                        <div class="flex gap-1.5">
                            <div class="w-3 h-3 rounded-full bg-[#ff5f57]"></div>
                            <div class="w-3 h-3 rounded-full bg-[#febc2e]"></div>
                            <div class="w-3 h-3 rounded-full bg-[#28c840]"></div>
                        </div>
                        <div class="mx-auto w-1/2 h-5 bg-black/20 rounded-md border border-white/5"></div>
                    </div>
                    
                    <div class="relative overflow-hidden bg-zinc-900 flex items-center justify-center min-h-[200px]">
                        <img id="main-preview" 
                             src="https://images.unsplash.com/photo-1618477388954-7852f32655ec?q=80&w=1000&auto=format" 
                             class="w-full h-auto block" crossorigin="anonymous">
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const state = {
            scale: 1, x: 0, y: 0,
            filters: { brightness: 100, contrast: 100, blur: 0, grayscale: 0 }
        };

        const preview = document.getElementById('main-preview');
        const exportArea = document.getElementById('export-area');
        const browserWin = document.getElementById('browser-window');

        // Frame Switcher
        function setFrame(frameClass) {
            browserWin.className = `relative bg-[#0d0d0d] shadow-2xl w-full max-w-3xl overflow-hidden flex flex-col border border-white/10 ${frameClass}`;
            document.getElementById('title-bar').style.display = frameClass === 'frame-none' ? 'none' : 'flex';
        }

        // Background Control
        function changeBg(val) { exportArea.style.background = val; }
        
        document.getElementById('bgUpload').addEventListener('change', (e) => {
            const file = e.target.files[0];
            if(file) {
                const reader = new FileReader();
                reader.onload = r => exportArea.style.backgroundImage = `url(${r.target.result})`;
                reader.readAsDataURL(file);
            }
        });

        // Scale Control
        document.getElementById('scaleInput').addEventListener('input', (e) => {
            state.scale = e.target.value / 100;
            document.getElementById('scaleVal').innerText = e.target.value + '%';
            applyTransform();
        });

        // Padding Control
        document.getElementById('padInput').addEventListener('input', (e) => {
            exportArea.style.padding = e.target.value + 'px';
            document.getElementById('padVal').innerText = e.target.value + 'px';
        });

        // Filter Controls
        document.querySelectorAll('.filter-in').forEach(input => {
            input.addEventListener('input', (e) => {
                const type = e.target.dataset.f;
                state.filters[type] = e.target.value;
                const unit = type === 'blur' ? 'px' : (type === 'hue-rotate' ? 'deg' : '%');
                document.getElementById(type.substring(0,6) + 'V').innerText = e.target.value + unit;
                
                preview.style.filter = `
                    brightness(${state.filters.brightness}%) 
                    contrast(${state.filters.contrast}%) 
                    blur(${state.filters.blur}px) 
                    grayscale(${state.filters.grayscale}%)
                `;
            });
        });

        // Image Dragging logic
        let dragging = false;
        let startX, startY;

        preview.addEventListener('mousedown', e => {
            dragging = true;
            startX = e.clientX - state.x;
            startY = e.clientY - state.y;
            preview.style.cursor = 'grabbing';
        });

        window.addEventListener('mousemove', e => {
            if (!dragging) return;
            state.x = e.clientX - startX;
            state.y = e.clientY - startY;
            applyTransform();
        });

        window.addEventListener('mouseup', () => {
            dragging = false;
            preview.style.cursor = 'move';
        });

        function applyTransform() {
            preview.style.transform = `scale(${state.scale}) translate(${state.x/state.scale}px, ${state.y/state.scale}px)`;
        }

        // File Upload
        document.getElementById('imageUpload').addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = r => {
                    preview.src = r.target.result;
                    state.x = 0; state.y = 0; applyTransform();
                };
                reader.readAsDataURL(file);
            }
        });

        // Export Function
        async function downloadImage(btn) {
            const originalText = btn.innerText;
            btn.innerText = "PROCESSING...";
            btn.disabled = true;
            
            try {
                const canvas = await html2canvas(exportArea, {
                    useCORS: true,
                    scale: 3, // High quality
                    backgroundColor: null
                });
                const link = document.createElement('a');
                link.download = `SnippetSnap_Export_${Date.now()}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
            } catch (err) {
                alert("Export failed. Try a smaller image.");
            } finally {
                btn.innerText = originalText;
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>
